---
- defaults:
    link:
      relink: true
      force: false
    shell:
      stdout: true
      stderr: true

- clean: ['~']

- shell:
    - command: git submodule update --init dotbot
      description: ðŸ“¦ Installing dotbot
    - command: mise install
      description: ðŸ› ï¸ Installing mise tools
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/ohmyzsh/ohmyzsh.git
      description: ðŸ“¥ Cloning/updating ohmyzsh
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/zsh-users/zsh-autosuggestions
      description: ðŸ“¥ Cloning/updating zsh-autosuggestions
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/zsh-users/zsh-history-substring-search
      description: ðŸ“¥ Cloning/updating zsh-history-substring-search
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/zsh-users/zsh-syntax-highlighting.git
      description: ðŸ“¥ Cloning/updating zsh-syntax-highlighting
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/romkatv/powerlevel10k.git
      description: ðŸ“¥ Cloning/updating powerlevel10k
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/NoahTheDuke/vim-just.git
      description: ðŸ“¥ Cloning/updating vim-just
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/motlin/claude-code-prompts.git
      description: ðŸ“¥ Cloning/updating claude-code-prompts
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/motlin/claude-code-plugins.git
      description: ðŸ“¥ Cloning/updating claude-code-plugins
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/anthropics/claude-code.git
      description: ðŸ“¥ Cloning/updating claude-code
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/anthropics/skills.git
      description: ðŸ“¥ Cloning/updating skills
    - command: >-
        ./scripts/clone-or-update.sh git-clones
        https://github.com/tmux-plugins/tpm
      description: ðŸ“¥ Cloning/updating tpm
    - command: >-
        which powerline || echo
        'Warning: powerline not found on PATH'
      stdout: true
      stderr: true
      description: Check for powerline binary

- link:
    ~/.Xdefaults:
    ~/.alias:
    ~/.bash_profile:
    ~/.bashrc:
    ~/.bin: bin
    ~/.claude: git-clones/motlin/claude-code-prompts
    ~/.config/bat: config/bat
    ~/.config/just: config/just
    ~/.config/mise: config/mise
    ~/.config/tmux/tmux.conf:
      path: config/tmux/tmux.conf
      create: true
    ~/.config/tmux/plugins/tpm:
      create: true
      path: git-clones/tmux-plugins/tpm
    ~/.config/git/config: config/git/config
    ~/.config/git/ignore: config/git/ignore
    ~/.config/git/attributes:
      path: config/git/attributes
      create: true
    ~/.config/git/config-factorio-blueprints:
      path: config/git/config-factorio-blueprints
    ~/.config/powerline: config/powerline
    ~/.env:
    ~/.minttyrc:
    ~/.oh-my-zsh: git-clones/ohmyzsh/ohmyzsh
    ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions:
      create: true
      path: git-clones/zsh-users/zsh-autosuggestions
    ~/.oh-my-zsh/custom/plugins/zsh-history-substring-search:
      create: true
      path: git-clones/zsh-users/zsh-history-substring-search
    ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting:
      create: true
      path: git-clones/zsh-users/zsh-syntax-highlighting
    ~/.oh-my-zsh/custom/themes/powerlevel10k:
      create: true
      path: git-clones/romkatv/powerlevel10k
    ~/.p10k.zsh:
    ~/.ripgreprc:
    ~/.screenrc:
    ~/.vim:
    ~/.vim/pack/vendor/start/vim-just:
      create: true
      path: git-clones/NoahTheDuke/vim-just
    ~/.vimrc:
    ~/.zprofile:
    ~/.zshrc:
    ~/.zshenv:

- shell:
    - claude plugin marketplace remove motlin-claude-code-plugins || true
    - claude plugin marketplace add ~/.dotfiles/git-clones/motlin/claude-code-plugins
    - claude plugin install markdown-tasks@motlin-claude-code-plugins
    - claude plugin install build@motlin-claude-code-plugins
    - claude plugin install code@motlin-claude-code-plugins
    - claude plugin install git@motlin-claude-code-plugins
    - claude plugin install java@motlin-claude-code-plugins
    - claude plugin install justfile@motlin-claude-code-plugins
    - claude plugin install tmux-titles@motlin-claude-code-plugins
    - claude plugin install iterm2-titles@motlin-claude-code-plugins
    - claude plugin marketplace remove claude-code-plugins || true
    - claude plugin marketplace add ~/.dotfiles/git-clones/anthropics/claude-code
    - claude plugin install pr-review-toolkit@claude-code-plugins
    - claude plugin install commit-commands@claude-code-plugins
    - claude plugin install feature-dev@claude-code-plugins
    - claude plugin install agent-sdk-dev@claude-code-plugins
    - claude plugin marketplace remove anthropic-agent-skills || true
    - claude plugin marketplace add ~/.dotfiles/git-clones/anthropics/skills
    - claude plugin install example-skills@anthropic-agent-skills
